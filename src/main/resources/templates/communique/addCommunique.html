<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout}">
<head>
<title th:text="#{communique.add}">Ajout/Modif du communique</title>
</head>

<body>
	<main class="container" layout:fragment="content">
		<div class="row">
			<div class="col-1">
				<a th:href="@{/communique/liste}"><i class="fa fa-chevron-left"></i></a>
			</div>
			<div class="col-11">
				<h3 th:text="#{communique.add}">Ajout d'un communique</h3>
			</div>
		</div>

		<div th:errors="${communique.*}" class="border pl-3 bg-warning">Toutes
			les erreurs</div>

		<form method="post" th:object="${communique}"
			th:action="@{/communique/add}">
			<div class="form-group">
				<label for="id" th:text="#{communique.id}"></label> <input
					type="text" readonly="readonly" class="form-control"
					th:classappend="${#fields.hasErrors('id')} ? is-invalid" required />
				<small id="error_id" th:errors="*{id}" class="form-text text-danger">L'id
					est incorrect</small>
			</div>
			<div class="form-group">
				<label for="date" th:text="#{communique.date}"></label> <input
					type="date" placeholder="sÃ©lectionner une date" th:field="*{date}"
					class="form-control"
					th:classappend="${#fields.hasErrors('date')} ? is-invalid" required />
				<small id="error_date" th:errors="*{date}"
					class="form-text text-danger">Erreur Date</small>
			</div>
			<div class="form-group">
				<label for="titre" th:text="#{communique.titre}"></label> <input
					type="text" placeholder="entrez le titre" th:field="*{titre}"
					class="form-control"
					th:classappend="${#fields.hasErrors('titre')} ? is-invalid" required />
				<small id="error_titre" th:errors="*{titre}"
					class="form-text text-danger">Erreur Titre</small>
			</div>
			<div class="form-group">
				<label for="contenu" th:text="#{communique.contenu}"></label> <input
					type="text" placeholder="entrez le contenu" th:field="*{contenu}"
					class="form-control"
					th:classappend="${#fields.hasErrors('contenu')} ? is-invalid" required />
				<small id="error_contenu" th:errors="*{contenu}"
					class="form-text text-danger">Erreur Contenu</small>
			</div>
			<div class="form-group">
				<label for="etablissement" th:text="#{etablissement.username}"></label> <select
					class="form-control" id="" name="" th:field="*{etablissement}"
					th:classappend="${#fields.hasErrors('etablissement')} ? is-invalid"
					required>
					<option value="">Etablissement</option>
					<option th:each="etab : ${userEtablissement}" th:value="${etab}"
						th:text="${etab}"></option>
				</select> <small id="error_etablissement" th:errors="*{etablissement}"
					class="form-text text-danger"> Erreur Nom d'utilisateur
					Etablissement</small>
			</div>

			<button type="submit" class="btn btn-outline-primary"
				th:text="#{action.add}"></button>
		</form>
	</main>
	
	<div layout:fragment="optional">
	  <script th:src="@{/webjars/bootbox/bootbox.js}"></script>
	  <script th:src="@{/js/myJS.js}"></script>
	</div>
</body>
</html>
